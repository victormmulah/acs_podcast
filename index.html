<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover" />
  <title>African Children's Stories</title>
  <meta name="description" content="African Children's Stories - podcast + storybooks for kids" />
  <link rel="manifest" href="/manifest.json" />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="assets/icons/icon-192.png" />
</head>
<body>
  <div id="app">
    <header class="topbar" role="banner">
      <div class="logo" aria-hidden="false">
        <img src="assets/icons/icon-96.png" alt="app logo" width="48" height="48" />
        <h1>African Children's Stories</h1>
      </div>
      <div class="header-actions">
        <button id="menuBtn" class="icon-btn" aria-label="Open menu">‚ò∞</button>
      </div>
    </header>

    <nav id="sideMenu" class="side-menu" aria-hidden="true">
      <button id="closeMenu" class="icon-btn close-menu" aria-label="Close menu">‚úï</button>
      <ul>
        <li><button data-nav="home" class="nav-btn">Stories</button></li>
        <li><button data-nav="storybooks" class="nav-btn">Storybooks</button></li>
        <li><button data-nav="games" class="nav-btn">Games</button></li>
        <li><button data-nav="downloads" class="nav-btn">Downloads</button></li>
        <li><button data-nav="favorites" class="nav-btn">Favorites</button></li>
        <li><button data-nav="settings" class="nav-btn">Settings</button></li>
        <li><button id="feedbackBtn" class="nav-btn">Feedback</button></li>
      </ul>
    </nav>

    <main id="main" role="main">
      <!-- Splash -->
      <section id="splash" class="screen splash-screen">
        <div class="splash-inner">
          <div class="splash-logo">üåçüìñ</div>
          <h2>African Children‚Äôs Stories</h2>
          <p class="muted">Folktales, kindness, culture & nature ‚Äî read aloud</p>
          <div id="loader" class="loader"></div>
        </div>
      </section>

      <!-- Home: episodes -->
      <section id="home" class="screen hidden">
        <div class="controls">
          <input id="searchInput" type="search" placeholder="Search stories, e.g., Anansi" aria-label="Search stories" />
          <div class="toggles">
            <label class="switch">
              <input id="offlineToggle" type="checkbox" />
              <span class="slider"></span>
            </label>
            <small>Offline</small>
          </div>
        </div>

        <div id="episodeList" class="list"></div>
        <div id="recommendations" class="recommendations hidden">
          <h3>Recommended for you</h3>
          <div id="recList" class="list"></div>
        </div>
      </section>

      <!-- Player (advanced) -->
      <section id="player" class="screen hidden player-screen">
        <button class="back-btn" data-nav="home">‚Üê Back</button>

        <div class="player-card">
          <div class="player-left">
            <img id="playerThumb" class="thumb" src="" alt="episode image"/>
          </div>

          <div class="player-right">
            <h3 id="playerTitle"></h3>
            <p id="playerDate" class="muted"></p>
            <p id="playerDesc" class="desc"></p>

            <div class="progress-row">
              <span id="curTime">0:00</span>
              <input id="seek" type="range" min="0" max="100" value="0" aria-label="seek slider"/>
              <span id="durTime">0:00</span>
            </div>

            <div class="controls-row">
              <button id="prevBtn" class="control big-btn">‚èÆ</button>
              <button id="back15" class="control big-btn">‚ü≤15s</button>
              <button id="playPause" class="play-btn big-btn" aria-label="Play/Pause">‚ñ∂</button>
              <button id="fwd15" class="control big-btn">15s‚ü≥</button>
              <button id="nextBtn" class="control big-btn">‚è≠</button>
            </div>

            <div class="util-row">
              <label class="volume-label">Vol
                <input id="volume" type="range" min="0" max="1" step="0.01" value="1" />
              </label>

              <label class="speed-label">Speed
                <select id="speedSelect" aria-label="Playback speed">
                  <option value="0.75">0.75x</option>
                  <option value="1" selected>1x</option>
                  <option value="1.25">1.25x</option>
                  <option value="1.5">1.5x</option>
                  <option value="2">2x</option>
                </select>
              </label>

              <button id="favBtn" class="icon-btn" aria-label="Favorite">‚ô°</button>
              <button id="downloadBtn" class="icon-btn" aria-label="Download">‚¨á</button>
            </div>

            <canvas id="visualizer" width="300" height="60" aria-hidden="true"></canvas>
          </div>
        </div>
      </section>

      <!-- Storybooks -->
      <section id="storybooks" class="screen hidden">
        <button class="back-btn" data-nav="home">‚Üê Back</button>
        <h2>Storybooks</h2>
        <div id="storybookList" class="list"></div>
      </section>

      <!-- Story detail -->
      <section id="storyDetail" class="screen hidden">
        <button class="back-btn" data-nav="storybooks">‚Üê Back</button>
        <h2 id="storyTitle"></h2>
        <article id="storyContent" class="story-content" aria-live="polite"></article>
        <div class="story-actions">
          <button id="ttsBtn" class="big-btn">üîä Read Aloud</button>
          <button id="quizBtn" class="big-btn">üìù Quiz</button>
          <button id="drawBtn" class="big-btn">üé® Draw</button>
        </div>
      </section>

      <!-- Quiz -->
      <section id="quiz" class="screen hidden">
        <button class="back-btn" data-nav="storyDetail">‚Üê Back</button>
        <div id="quizInner"></div>
      </section>

      <!-- Games -->
      <section id="games" class="screen hidden">
        <button class="back-btn" data-nav="home">‚Üê Back</button>
        <h2>Games</h2>
        <div id="matchingGame" class="game-card">
          <h3>Match Animal to Habitat</h3>
          <div id="matchBoard" class="match-board"></div>
          <div class="game-controls">
            <button id="startMatch" class="big-btn">Start</button>
            <div id="matchScore" class="muted">Score: 0</div>
          </div>
        </div>
      </section>

      <!-- Downloads -->
      <section id="downloads" class="screen hidden">
        <button class="back-btn" data-nav="home">‚Üê Back</button>
        <h2>Downloads</h2>
        <div id="downloadsList" class="list"></div>
      </section>

      <!-- Favorites -->
      <section id="favorites" class="screen hidden">
        <button class="back-btn" data-nav="home">‚Üê Back</button>
        <h2>Favorites</h2>
        <div id="favoritesList" class="list"></div>
      </section>

      <!-- Settings -->
      <section id="settings" class="screen hidden">
        <button class="back-btn" data-nav="home">‚Üê Back</button>
        <h2>Settings</h2>
        <label>Age group
          <select id="ageGroup">
            <option>3-5</option>
            <option>6-8</option>
            <option>9+</option>
          </select>
        </label>
        <label>Language
          <select id="langSelect">
            <option value="en">English</option>
            <option value="sw">Swahili (placeholder)</option>
            <option value="fr">French (placeholder)</option>
          </select>
        </label>
        <div class="muted small">Privacy: We store only anonymized usage and local preferences. Parental gate required for sharing content.</div>
      </section>

      <!-- Drawing modal -->
      <div id="drawModal" class="modal hidden" role="dialog" aria-modal="true">
        <div class="modal-content">
          <h3>Draw your picture</h3>
          <canvas id="drawCanvas" width="320" height="320"></canvas>
          <div class="modal-actions">
            <button id="saveDrawing" class="big-btn">Save</button>
            <button id="closeDrawing" class="big-btn">Close</button>
          </div>
        </div>
      </div>

      <!-- Parental gate -->
      <div id="parentGate" class="modal hidden">
        <div class="modal-content">
          <h3>Parental gate</h3>
          <p>To share content, please answer:</p>
          <div id="gateQuestion"></div>
          <input id="gateAnswer" type="number" />
          <div class="modal-actions">
            <button id="gateSubmit" class="big-btn">Submit</button>
            <button id="gateCancel" class="big-btn">Cancel</button>
          </div>
        </div>
      </div>
    </main>

    <footer class="player-mini" aria-hidden="false">
      <div class="mini-left">
        <div id="miniTitle">No story playing</div>
        <div id="miniSub" class="muted">Tap to open player</div>
      </div>
      <div class="mini-controls">
        <button id="miniPlay" class="icon-btn" aria-label="Play/Pause">‚ñ∂</button>
      </div>
    </footer>
  </div>

  <!-- Audio element -->
  <audio id="audio" preload="metadata"></audio>

  <script src="app.js" defer></script>
</body>
</html>

